# .gitconfig: git configuration
#
# USEFUL COMMANDS:
#
#   git log --grep'regex'
#     Look for expression in commit messages.
#
#   git log -S'string' -- file
#     Look for the addition/deletion of text - ie. when was the string firstly
#     introduced or where was it removed.
#
#   git log -G'regex' -- file
#     Look for differences whose patch text contains modified lines that match
#     <regex>.
#
#   git log -L '/int main/',/^}/:main.c
#     Shows how the function main() in the file main.c evolved over time.
#
# ========== BimbaLaszlo (.github.io|gmail.com) ========== 2015.10.06 07:32 ==

[user]

  name         = "BimbaLaszlo"
  email        = "bimbalaszlo@gmail.com"

[alias]

  cl           = "clone"
  ps           = "push --all --follow-tags"
  pl           = "!git pull --ff-only || (git status; read -p '\nCONTINUE PULLING? Y/[N]' ans; if echo $ans | grep '[Yy]' > /dev/null; then git pull; fi)"
  subpl        = "!git submodule foreach git pull --tags origin master"
  seto         = "remote set-url origin"
  ghcl         = "!sh -c 'git clone https://www.github.com/$*' -"
  ghps         = "!sh -c 'git remote set-url origin https://www.github.com/$*; git push --all --follow-tags --set-upstream https://www.github.com/$*' -"
  glcl         = "!sh -c 'git clone https://gitlab.com/$*' -"
  glps         = "!sh -c 'git remote set-url oigin https://gitlab.com/$*; git push --all --follow-tags --set-upstream https://gitlab.com/$*' -"

  # Log flags:
  #   --follow  track full history of a single file.
  #   --all     show all branch (SHA..SHA not works with it?)
  glog         = "log --graph --decorate --find-renames --date-order --name-status"
  plog         = "log --graph --decorate --find-renames --date-order --patch --stat --ignore-blank-lines"
  pwlog        = "log --graph --decorate --find-renames --date-order --patch --stat --ignore-blank-lines --ignore-all-space"
  clog         = "log --graph --decorate --find-renames --date-order --name-status ORIG_HEAD.."
  day          = "log --graph --decorate --find-renames --date-order --name-status --since midnight"
  yday         = "log --graph --decorate --find-renames --date-order --name-status --since=day.before.yesterday.midnight --until=midnight"
  slog         = "log --graph --decorate --find-renames --date-order --date=short --format='%C(auto)%h%C(auto)%d %C(bold blue)%ad %an%n        %s%C(reset)'"
  sslog        = "log --graph --decorate --find-renames --date-order --date=short --format='%C(auto)%h%C(auto)%d %C(bold blue)%ad %an%n        %s%C(reset)' --simplify-by-decoration"
  flog         = "diff --name-status"
  ls           = "ls-tree -r --name-only"
  s            = "status"

  df           = "diff --patch --stat --ignore-blank-lines"
  dfc          = "diff --patch --stat --ignore-blank-lines --cached"
  dfw          = "diff --patch --stat --ignore-blank-lines --ignore-all-space"
  dfwc         = "diff --patch --stat --ignore-blank-lines --ignore-all-space --cached"
  gdf          = "difftool"
  gdfc         = "difftool --cached"

  ad           = "add --all"
  ada          = "add --all :/"
  c            = "commit"
  ca           = "commit --amend"
  cm           = "commit -m"
  cmu          = "commit -m Update"

  # fixup:  merge without changing the commit message
  # squash: the commit message is editable
  cfu          = "!sh -c 'git commit --fixup=$1 && git rebase --autosquash --interactive $1~' -"
  csq          = "!sh -c 'git commit --squash=$1 && git rebase --autosquash --interactive $1~' -"

  co           = "checkout"

  st           = "stash"
  stp          = "stash pop"
  reb          = "rebase --autosquash --interactive"

  bss          = "bisect start"
  bsr          = "bisect reset" # stop
  bsg          = "bisect good"
  bsb          = "bisect bad"

  ctags        = "!.git/hooks/0_ctags"

[core]

  editor       = "gvim --nofork"

  ; Ne konvertalja a sorvegzodeseket.
  autocrlf     = "false"

  ; Windows halozati meghajtokon nagyon lassu, ez gyorsitja a dolgokat, de
  ; legalabb 1.9.4 verzio kell.
  ; http://stackoverflow.com/a/24045966
  preloadindex = "true"
  fscache      = "true"

[color]

  ui           = "true"

[init]

  ; A konyvtar, amit init es clone eseten bemasol a .git konvytarba. Pl.:
  ; templatedir/hooks -> .git/hooks
  ; http://tbaggery.com/2011/08/08/effortless-ctags-with-git.html
  templatedir  = "~/.git_template"

[commit]

  ; Az alapertelmezett uzenet, amit commit-olas kozben a szokasos elemek ele
  ; kiir.
  template     = "~/.git_template/commit_message"

[log]

  ; Roviditett SHA.
  abbrevCommit = "true"

  ; 2014-03-25 12:34:56 +0100
  date         = "iso"

[diff]

  tool         = "gvimdiff"

[merge]

  tool         = "gvimdiff"

[push]

  default      = "simple"

[gc]

  ; Fajlok szamanak minimalizalasa a .git konyvtarban. (valamennit gyorsit)
  auto         = 256
